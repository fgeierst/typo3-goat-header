
<f:section name="LevelOne">
    <nav id="mainnav" class="main-nav">
        <button type="button" class="main-nav-toggle" aria-expanded="false" aria-controls="main-nav-container">
            <span class="visually-hidden">Menu</span>
        </button>
        <div id="main-nav-container" class="main-nav__container">
            <ul class="main-nav__list preload sub-nav">
                <f:for each="{mainnavigation}" as="item">
                    <li class="main-nav__item">
                        <f:if condition="!{item.children}">
                            <f:then>
                                <a href="{item.link}" class="main-nav__link" {f:if(condition: item.active, then:'aria-current="page"')}>
                                    {item.title}
                                </a>
                            </f:then>
                            <f:else>
                                <f:render section="LevelTwo" arguments="{item: item}" />
                            </f:else>
                        </f:if>
                    </li>
                </f:for>
            </ul>
        </div>
    </nav>
</f:section>

<f:section name="LevelTwo">
    <div class="level-two-nav">
        <button class="level-two-nav__toggle"
            aria-expanded="false"
            aria-controls="level-two-nav-container-{item.data.uid}"
        >
            {item.title}
        </button>
        <div class="level-two-nav__container" id="level-two-nav-container-{item.data.uid}">
            <ul class="level-two-nav__list">
                <button class="level-two-nav__back lg:none">Back</button>

                <li class="level-two-nav__item level-two-nav__item--overview">
                    <a href="{item.link}" class="main-nav__link" {f:if(condition: item.active, then:'aria-current="page"')}>
                        {item.title}
                    </a>
                </li>

                <f:for each="{item.children}" as="item">
                    <li class="level-two-nav__item" {f:if(condition: item.active, then:'aria-current="page"')}>
                        <a class="level-two-nav__link" href="{item.link}">
                            {item.title}
                        </a>
                    </li>
                </f:for>
            </ul>
        </div>
    </div>
</f:section>
