<f:section name="Main">
    <ul class="mainnav preload">

        <f:comment><!-- mainnav__item(s): level-one --></f:comment>
        <f:for each="{mainnavigation}" as="item">
            <li class="mainnav__item">
                <f:if condition="{item.children}">
                    <f:then>
                        <button class="mainnav__button" aria-expanded="false" >
                            {item.title}
                        </button>
                        <div class="mainnav__clipbox">
                            <div class="mainnav__panel">
                                <f:render section="LevelTwo" arguments="{item: item}" />
                            </div>
                        </div>
                    </f:then>
                    <f:else>
                        <a href="{item.link}" class="mainnav__link" {f:if(condition: item.active, then:'aria-current="page"')}>
                            {item.title}
                        </a>
                    </f:else>
                </f:if>
            </li>
        </f:for>

        <f:comment><!-- mainnav__item: search-desktop --></f:comment>
        <li class="mainnav__item mainnav__item--desktop-only">
            <button class="mainnav__button" aria-expanded="false" >
                <svg width="24" height="24" class="mainnav__icon" >
                    <title>
                        <f:translate key="LLL:EXT:typo3_vite_demo/Resources/Private/Language/locallang.xlf:navigation.search"/>
                    </title>
                    <use href="{f:uri.resource(path: 'EXT:typo3_vite_demo/Resources/Public/Icons/sprite.svg')}#search"></use>
                </svg>
            </button>
            <div class="mainnav__clipbox">
                <div class="mainnav__panel">
                    <f:render partial="Search"/>
                </div>
            </div>
        </li>

        <f:comment><!-- mainnav__item: langnav-desktop --></f:comment>
        <li class="mainnav__item mainnav__item--desktop-only">
            <button id="language-button" class="mainnav__button" aria-expanded="false">
                <svg width="24" height="24" class="mainnav__icon">
                    <title>
                        <f:translate key="LLL:EXT:typo3_vite_demo/Resources/Private/Language/locallang.xlf:navigation.languages"/>
                    </title>
                    <use href="{f:uri.resource(path: 'EXT:typo3_vite_demo/Resources/Public/Icons/sprite.svg')}#globe"></use>
                </svg>
            </button>
            <div class="mainnav__clipbox">
                <div class="mainnav__panel">
                    <f:render partial="LanguageNav"
                        arguments="{languagenavigation: languagenavigation}"
                    />
                </div>
            </div>
        </li>

    </ul>
</f:section>


<f:section name="LevelTwo">
    <ul class="level-two">
        <li class="level-two__item level-two__item--close">
            <button class="mainnav__close">
                <f:translate key="LLL:EXT:typo3_vite_demo/Resources/Private/Language/locallang.xlf:navigation.back"/>
            </button>
        </li>

        <li class="level-two__item level-two__item--overview">
            <a class="level-two__link" href="{item.link}" {f:if(condition: item.active, then:'aria-current="page"')}>
                {item.title}
            </a>
        </li>

        <f:for each="{item.children}" as="item">
            <li class="level-two__item" {f:if(condition: item.active, then:'aria-current="page"')}>
                <a class="level-two__link" href="{item.link}">
                    {item.title}
                </a>
            </li>
        </f:for>
    </ul>
</f:section>
