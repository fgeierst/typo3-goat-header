<f:section name="Main">
    <ul class="mainnav preload">

        <f:comment><!-- mainnav__item(s): first level links or buttons --></f:comment>
        <f:for each="{mainnavigation}" as="item">
            <li class="mainnav__item">
                <f:if condition="{item.children}">
                    <f:then>
                        <button class="mainnav__toggle-button mainnav__toggle-button--chevron" aria-expanded="false" data-hover>
                            {item.title}
                        </button>
                        <div class="mainnav__clipbox">
                            <div class="mainnav__sliding-panel">
                                <div class="mainnav__panel-container">
                                    <button class="mainnav__close-button">
                                        <f:translate key="LLL:EXT:typo3_vite_demo/Resources/Private/Language/locallang.xlf:navigation.back"/>
                                    </button>
                                    <f:render partial="SubNav" section="l1" arguments="{item: item}" />
                                </div>
                            </div>
                        </div>
                    </f:then>
                    <f:else>
                        <a href="{item.link}" class="mainnav__link" {f:if(condition: item.active, then:'aria-current="page"')}>
                            {item.title}
                        </a>
                    </f:else>
                </f:if>
            </li>
        </f:for>

        <f:comment><!-- mainnav__item: search-desktop --></f:comment>
        <li class="mainnav__item mainnav__item--push-right mainnav__item--desktop-only">
            <button class="mainnav__toggle-button header-icon header-icon--search scale-on-hover"
                aria-expanded="false"
            >
                <span class="visually-hidden">
                    <f:translate key="LLL:EXT:typo3_vite_demo/Resources/Private/Language/locallang.xlf:navigation.search"/>
                </span>
            </button>
            <div class="mainnav__clipbox">
                <div class="mainnav__sliding-panel">
                    <f:render partial="Search" arguments="{mainnavigation: mainnavigation}" />
                </div>
            </div>
        </li>

        <f:comment><!-- mainnav__item: langnav-desktop --></f:comment>
        <li class="mainnav__item mainnav__item--desktop-only">
            <button class="mainnav__toggle-button header-icon header-icon--globe scale-on-hover"
                aria-expanded="false"
            >
                <span class="visually-hidden">
                    <f:translate key="LLL:EXT:typo3_vite_demo/Resources/Private/Language/locallang.xlf:navigation.languages"/>
                </span>
            </button>
            <div class="mainnav__clipbox">
                <div class="mainnav__sliding-panel">
                    <f:render partial="LanguageNav"
                        arguments="{languagenavigation: languagenavigation}"
                    />
                </div>
            </div>
        </li>

    </ul>
</f:section>
